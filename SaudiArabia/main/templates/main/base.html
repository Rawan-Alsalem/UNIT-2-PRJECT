{% load static %}
<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Cultural Treasures{% endblock %}</title>
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
      <div class="container">
        <a class="navbar-brand" href="{% url 'main:index_view' %}">
          Cultural Treasures
          <img
            src="{% static 'images/logo.png' %}"
            alt="Bootstrap"
            width="60"
            height="50"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:heritage_view' %}"
                >Heritage</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:art_view' %}">Art</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:architecture_view' %}"
                >Architecture</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:festivals_view' %}"
                >Festivals</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:fashion_view' %}"
                >Fashion</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'main:music_view' %}">Music</a>
            </li>
          </ul>

          <audio id="navbar-audio" loop>
            <source src="{% static 'audio/dunes.mp3' %}" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>

          <button id="audio-toggle" class="btn btn-outline-secondary ms-2">
            ğŸ”Š
          </button>
          <button id="theme-toggle" class="btn btn-outline-secondary ms-3">
            ğŸŒ™
          </button>
        </div>
      </div>
    </nav>

    <main>{% block content %}{% endblock %}</main>
    <button id="toTopBtn" class="to-top-btn">
      <i class="fa-solid fa-angle-up"></i>
    </button>

    <footer class="footer mt-auto pt-5">
      <div class="container">
        <div class="row gy-4 text-center text-md-start">
          <div class="col-md-4">
            <h5 class="footer-title">Cultural Treasures</h5>
            <p class="footer-text">
              Celebrating the timeless beauty, art, and heritage of Saudi Arabia
              â€” from architecture and music to traditions that define our
              culture.
            </p>
          </div>

          <div class="col-md-4">
            <h5 class="footer-title">Explore</h5>
            <ul class="footer-links list-unstyled">
              <li><a href="{% url 'main:heritage_view' %}">Heritage</a></li>
              <li><a href="{% url 'main:art_view' %}">Art</a></li>
              <li>
                <a href="{% url 'main:architecture_view' %}">Architecture</a>
              </li>
              <li><a href="{% url 'main:festivals_view' %}">Festivals</a></li>
              <li><a href="{% url 'main:fashion_view' %}">Fashion</a></li>
              <li><a href="{% url 'main:music_view' %}">Music</a></li>
            </ul>
          </div>

          <div class="col-md-4">
            <h5 class="footer-title">Stay Connected</h5>
            <div
              class="footer-social d-flex justify-content-center justify-content-md-start gap-3"
            >
              <a href="#" class="social-link"
                ><i class="fab fa-x-twitter"></i
              ></a>
              <a href="#" class="social-link"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
            </div>
            <p class="footer-email mt-3">
              <i class="fa fa-envelope"></i> contact@culturaltreasures.sa
            </p>
          </div>
        </div>
      </div>

      <div class="saudi-pattern-strip"></div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      const html = document.documentElement;
      const btn = document.getElementById("theme-toggle");
      const storedTheme = localStorage.getItem("theme") || "light";
      html.setAttribute("data-bs-theme", storedTheme);
      btn.textContent = storedTheme === "light" ? "ğŸŒ™" : "â˜€ï¸";

      btn.addEventListener("click", () => {
        const newTheme =
          html.getAttribute("data-bs-theme") === "light" ? "dark" : "light";
        html.setAttribute("data-bs-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        btn.textContent = newTheme === "light" ? "ğŸŒ™" : "â˜€ï¸";
      });
    </script>

    <script>
      const navbar = document.querySelector(".navbar");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          navbar.classList.add("navbar-scrolled");
        } else {
          navbar.classList.remove("navbar-scrolled");
        }
      });
    </script>
    <script>
      const audio = document.getElementById("navbar-audio");
      const audioBtn = document.getElementById("audio-toggle");

      window.addEventListener("load", () => {
        audio.play().catch(() => {
          console.log("Autoplay blocked, user interaction needed.");
        });
      });

      audioBtn.addEventListener("click", () => {
        if (audio.paused) {
          audio.play();
          audioBtn.textContent = "ğŸ”Š";
        } else {
          audio.pause();
          audioBtn.textContent = "ğŸ”‡";
        }
      });
    </script>
    <script>
      const toTopBtn = document.getElementById("toTopBtn");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) {
          toTopBtn.classList.add("show");
        } else {
          toTopBtn.classList.remove("show");
        }
      });

      toTopBtn.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
    </script>
  </body>
</html>
